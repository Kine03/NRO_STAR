package nro.models.boss.bosstraidat;

import java.util.Random;
import nro.models.boss.Boss;
import nro.models.boss.BossData;
import nro.models.boss.BossFactory;
import nro.models.boss.FutureBoss;
import nro.models.item.ItemOption;
import nro.models.map.ItemMap;
import nro.models.player.Player;
import nro.server.ServerNotify;
import nro.services.Service;
import nro.services.TaskService;
import nro.services.func.ChangeMapService;
import nro.utils.Util;

/**
 *
 * @author ðŸ’– Tráº§n Láº¡i ðŸ’–
 * @copyright ðŸ’– GirlkuN ðŸ’–
 *
 */
public class doremon extends FutureBoss {
    
    public doremon() {
        super(BossFactory.DOREMON, BossData.doremon);
    }

    @Override
    protected boolean useSpecialSkill() {
        return false;
    }

    @Override
    public void rewards(Player pl) {
        TaskService.gI().checkDoneTaskKillBoss(pl, this);
        ItemMap itemMap = null;
        int x = this.location.x;
        int y = this.zone.map.yPhysicInTop(x, this.location.y - 24);

        int[] itemNRO = new int[]{16,17,18};

        int randomNRO = new Random().nextInt(itemNRO.length);

        itemMap = Util.ratiItem(this.zone, itemNRO[randomNRO], 1, x, y, pl.id);
 
        Service.getInstance().dropItemMap(this.zone, itemMap);
    }


    @Override
    public void idle() {

    }

    @Override
    public void checkPlayerDie(Player pl) {

    }

    @Override
    public void initTalk() {
        this.textTalkMidle = new String[]{"Tung tungg tungg"};

    }

    @Override
    public void leaveMap() {
        super.leaveMap();
        this.changeToIdle();
    }

    @Override
    public void joinMap() {
        if (this.zone == null) {
            this.zone = getMapCanJoin(mapJoin[Util.nextInt(0, mapJoin.length - 1)]);
        }
        if (this.zone != null) {
            BossFactory.createBoss(BossFactory.XUKA).zone = this.zone;
            BossFactory.createBoss(BossFactory.CHAIEN).zone = this.zone;
            BossFactory.createBoss(BossFactory.XEKO).zone = this.zone;
            BossFactory.createBoss(BossFactory.NOBITA).zone = this.zone;
            ChangeMapService.gI().changeMapBySpaceShip(this, this.zone, ChangeMapService.TENNIS_SPACE_SHIP);
            ServerNotify.gI().notify("Boss " + this.name + " vá»«a xuáº¥t hiá»‡n táº¡i " + this.zone.map.mapName);
        }
    }

}
